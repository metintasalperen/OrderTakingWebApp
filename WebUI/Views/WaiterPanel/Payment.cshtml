@model WebUI.Models.OrderListViewModel
@{
    Layout = "~/Views/_Layout.cshtml";
    decimal basket_cost = 0;
    decimal item_cost = 0;
}

    <div class="w-75" style="margin: auto">
        <a class="list-group-item list-group-item"><h3>@Model.CurrentTable Prices </h3></a>
        <div class="table-responsive">
            <table class="table" align="center">
                <tr>
                    <th style="text-align: center" width="25%">Name</th>
                    <th style="text-align: center" width="25%">Quantity</th>
                    <th style="text-align: center" width="25%">Unit Price</th>
                    <th style="text-align: center" width="25%">Total Price</th>
                </tr>

                @foreach (var item in Model.TableOrders)
                {
                    if (item.IsDelivered == true)
                    {
                        @foreach (var menuitem in Model.Menu)
                            if (item.ItemId == menuitem.ItemId)
                            {
                                item_cost = menuitem.Price * item.Quantity;
                                basket_cost += item_cost;

                                <tr>
                                    <td style="text-align: center" width="25%">@menuitem.Name</td>
                                    <td style="text-align: center" width="25%">@item.Quantity</td>
                                    <td style="text-align: center" width="25%">@menuitem.Price ₺</td>
                                    <td style="text-align: center" width="25%">@item_cost ₺</td>
                                </tr>
                            }
                    }

                }
                <tr>
                    <td style="text-align: center" width="25%"></td>
                    <td style="text-align: center" width="25%"></td>
                    <td style="text-align: center" width="25%">General Total</td>
                    <td style="text-align: center" width="25%">@basket_cost ₺</td>
                </tr>
            </table>
        </div>
        <a class="btn btn-xs btn-success" align="right" asp-controller="WaiterPanel" asp-action="BackToIndex" asp-route-tableId=@Model.CurrentTable>Account Settled, Back To Panel!</a>

    </div>